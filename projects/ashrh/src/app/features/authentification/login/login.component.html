
<div class="backgroundDiv">
  <mat-card [ngClass]="routeAnimationsElements" class="card login-card" style="width: 325px; border-radius: 50px">
    <mat-card-header class="d-flex flex-column justify-content-center align-items-center">
      <img [src]="logo" style="max-height: 60px;">
    </mat-card-header>
    <mat-card-content style="padding: 0 3em;">
      <form>
        <div class="mt-3 mb-3">
          <mat-form-field #usernamaRef style="width: 100%;" color="primary" floatLabel="never">
            <fa-icon matPrefix icon="user" class="mr-1 text-white"></fa-icon>
            <input style="color: white;" required matInput [(ngModel)]="user_name" name="user_name" (ngModelChange)="error = false"
                   placeholder="{{'user_name'|translate}}">
            <mat-error>
              <span class="text-capitalize">{{'requis'|translate}}</span>
            </mat-error>
          </mat-form-field>
        </div>
        <div class="mt-3 mb-3">
          <mat-form-field style="width: 100%;" floatLabel="never">
            <fa-icon matPrefix icon="lock" class="mr-1 text-white"></fa-icon>
            <input class="text-white" matInput autocomplete="off" type="{{hidePass?'password':'text'}}"
                   [(ngModel)]="pass_word" name="pass_word" placeholder="{{'password'|translate}}" (ngModelChange)="error = false">
            <fa-icon icon="{{hidePass?'eye':'eye-slash'}}" matSuffix class="text-white"
                     (click)="$event.preventDefault();$event.stopPropagation();hidePass = !hidePass"></fa-icon>
          </mat-form-field>
          <div class="text-center c-w" style="transition: visibility 1s" [style.visibility]="error?'visible':'hidden'">
            <small>{{'credential_error'|translate}}</small>
          </div>
        </div>
        <div class="mt-3 mb-4 d-flex justify-content-between text-white" style="font-size: 12px;">
          <mat-checkbox><span class="text-capitalize">{{'remember'|translate}}</span></mat-checkbox>
          <u style="padding: 3px 0;"><a class="ml-2 text-white text-capitalize text-nowrap" [routerLink]="forgotpass">{{'passoublier'|translate}}</a></u>
        </div>
        <div class="d-flex justify-content-center m-3">
          <button mat-raised-button [disabled]="usernamaRef._control.errorState" (click)="login()"
                  style="width: 80%;padding: 0!important;font-size: 1.3em;"
                  class="w-100 p-2 log-btn c-a text-capitalize font-weight-bold">{{'connexion'| translate}}</button>
        </div>
        <div class="center-text text-white">
          <div class="d-inline-block position-relative" style="cursor: pointer;" (click)="select.open()">
            <button mat-icon-button class="btn-25">
              <img [src]="this[(language$ | async)]" style="max-width: 100%;">
            </button>
            {{langMap[(language$ | async)]}}
            <button mat-icon-button class="btn-25">
              <fa-icon icon="angle-down"></fa-icon>
            </button>
            <mat-select style="transform: scale(0);" class="position-absolute attach" #select color="primary"
                        (selectionChange)="onLanguageSelect($event)">
              <mat-option *ngFor="let l of languages" [value]="l">
                <button mat-icon-button class="btn-25">
                  <img [src]="this[l]" style="max-width: 100%;">
                </button>
                {{ langMap[l] }}
              </mat-option>
            </mat-select>
          </div>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
